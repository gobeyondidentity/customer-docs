---
title: Okta
id: okta
description: "Learn how to use Beyond Identity as a phishing-resistant MFA solution in your Okta instance."
slug: /access-control/applications/okta
keywords:
  - okta
  - okta integration guide
pagination_next: null
pagination_prev: null
last_update:
  date: 2025-01-28
  author: Jerome Villegas
draft: false
hide_table_of_contents: false
hide_title: false
hide_breadcrumbs: false
doc_type: overview
displayed_sidebar: mainSidebar
---

# Okta integration guide overview

This guide is a walkthrough of the stages and steps to integrate Beyond Identity as a phishing-resistant multifactor authentication addition to your Okta organization. 

Once the following stages and steps are complete, end users can authenticate to Okta using their device's passkey. This enhances security by eliminating passwords from the login flow while also improving the user experience by removing the need to enter a password.

## Stage summary

The integration setup consists of the four stages below. Each stage covers the initial set up for continuing the integration process on each respective platform. Follow the guide in linear order to complete the integration.

| Stage | Summary | Okta | Beyond Identity |
| :---- | :---- | :---- | :---- |
| [I](#stage-i) | Initial set up | - [Set up Beyond Identity group in Okta](#-okta-set-up-beyond-identity-group) | - [Set up Okta Application in Beyond Identity Console](#-beyond-identity-set-up-console) |
| [II](#stage-ii) | System for Cross-domain Identity Management (SCIM) implementation | - [Create SCIM app](#-okta-create-outbound-scim-app)<br></br>- [Update provisioning for SCIM](#-okta-update-provisioning-for-scim)<br></br>- [Push SCIM users](#-okta-push-scim-users) | - [Create API token for inbound SCIM](#-beyond-identity-create-api-token-for-inbound-scim) |
| [III](#stage-iii) | Single sign-on configuration | - [Create Okta API token](#-okta-create-okta-api-token)<br></br>- [Set up custom attribute for users](#-okta-set-up-custom-attribute-for-users) | - [Configure Okta domain](#-beyond-identity-configure-okta-domain) |
| [IV](#stage-iv) | Identity provider setup and enrollment | - [Configure new identity provider](#-okta-configure-new-identity-provider)<br></br>- [Create routing rules](#-okta-create-routing-rules) | - [Assign application to group](#-beyond-identity-assign-application-to-group)<br></br>- [Enroll users](#-beyond-identity-enroll-users) |

## Prerequisites

This information contains the necessary items for integrating Beyond Identity into your Okta organization with  phishing resistant multifactor authentication.

### Okta

- Okta account access with Organizational Admin or Super Admin privileges  
- Available features of OpenID Connect IdP and routing rules\-  
  - Validate the following with these steps below in your Okta Console to view their availability  
    - OpenID Connect IdP: Security â†’ Identity Providers â†’ Add identity provider button â†’ OpenID Connect IdP  
    - Routing rules:  Security â†’ Identity Providers â†’ Routing rules  
  - NOTE: If these features are missing from your organization, contact Okta support for activation.

### Beyond Identity requirements

The list below covers the basic Beyond Identity requirements for the integration.

- Secure Access Tenant with Super Admin Role  
  - Use an existing account, or [sign up here](https://www.beyondidentity.com/get-demo) to create a new Beyond Identity account  
- Have at least two devices and two Super Admin roles configured*  
  - *Recommended, optional

# Steps

Follow the steps in the sections below to complete your integration for Beyond Identity and Okta.

## Legend

The sections below use these two color codings to identify the steps for separate platforms.

ðŸ”µ Beyond Identity: Beyond Identity platform tasks are highlighted in blue.  
ðŸŸ  Okta: Okta platform tasks are highlighted in orange.

## Stage I

The sections here are for the initial setup between Beyond Identity and Okta. This is for setting up the Okta Application in the Beyond Identity Console and for creating groups in Okta for Beyond Identity. This group will be a subset of your users that use Beyond Identity for authentication vs. your current authentication methods.

### ðŸ”µ Beyond Identity: Set up Okta Application in Console

The steps in this section are for going through the initial Beyond Identity configuration. This covers adding the Okta integration application in the Beyond Identity Console.

1. Navigate to your Beyond Identity console.  
2. On the left-hand navigation under **Access Control**, click **Applications**.  
3. Select the **Browse Applications** tab.  
4. Click **Okta** to proceed.  
5. Click **Add OIDC**.  
6. Under **General** â†’ **Display Name**, input `Okta` into the text field.
7. We will leave this app up as we get some values that we need in Okta.

### ðŸŸ  Okta: Set up Beyond Identity group

This section covers creating a Beyond Identity group in your Okta environment. This will be the subset of users that will use Beyond Identity phishing-resistant authentication to authenticate into Okta.

1. On your Okta home page, navigate to **Directory** â†’ **Groups** on the left hand side.  
2. Click the **Add Group** button.  
3. In the **Name** field, input `Beyond Identity`.  Description is optional.
4. Click **Save**. This returns you to the **Groups** page.  
5. Click the **Beyond Identity** group.  
6. Click the **Assign people** button to assign users with the **+** icon to the **Beyond Identity** group.  
7. Click **Done** to return to the **Groups** page.

## Stage II

The Stage II sections cover the System for Cross-domain Identity Management (SCIM) implementation between Beyond Identity as the inbound platform and Okta as the outbound platform. SCIM is used to populate users from your Okta directory to the Beyond Identity directory. The SCIM protocol will automatically update any changes in your Okta directory to the Beyond Identity directory.

:::note
This means that the directory is your source of truth. Any changes made to your directory **should occur in Okta** and will be reflected in Beyond Identity directory.
:::

### ðŸŸ  Okta: Create outbound SCIM app

To have Okta act as the outbound SCIM provider, follow the steps below. All the steps in this process happen within the Okta platform.

1. Navigate to **Applications** â†’ **Applications** on the left hand side.  
2. Click the **Browse App catalog** button.  
3. In the search field, input `SCIM 2.0 Test App (OAuth Bearer Token)` to select the correct app.  
4. On the `SCIM 2.0 Test App (OAuth Bearer Token)` page, click **Add integration**.  
5. In the Application label field, update the text to `Beyond Identity Outbound SCIM`.  
6. For the **General settingsÂ· Required** page, the default values are valid. Click **Next**.  
7. For the **Sign-On OptionsÂ· Required** page, the default values are valid as well. Click **Done** at the bottom of the page.

We will now go back to the Beyond Identity Admin Console to get some values that we need to plug into this SCIM configuration.

### ðŸ”µ Beyond Identity: Create API token for inbound SCIM

This section is for configuring Okta as an inbound SCIM provider for your Beyond Identity directory. Follow the steps below in your Beyond Identity Admin Console.

1. On the new Okta app in Beyond Identity, navigate to the **Bearer tokens** section.  
2. Click **Add bearer token**.  
3. Input a name for the bearer token such as **Okta SCIM Token**.
4. Select an expiration date for the token.  The default value should work here.
5. Copy the value and store in a secure location.  
6. Scroll to the **Configure inbound provisioning** section.  
7. Copy the **SCIM URL** value. It should look like `https://api-us.beyondidentity.com/v1/.../scim/v2`.

:::note
The Beyond Identity bearer token for the inbound SCIM has an expiration date. To continue with the SCIM implementation, the token must be updated after the initial token expires.

Okta does not support SCIM with `client credentials`, which is a service-to-service authentication protocol that automatically refreshes the tokens. We are currently working to add **Basic authentication** to our SCIM implementation so you will not have to update the token after expiration.
:::

### ðŸŸ  Okta: Update provisioning for SCIM

After completing the Beyond Identity section for copying the SCIM URL and Bearer token values, this section goes over testing the credentials within Okta to prepare for SCIM. These steps are back in your Okta admin console.

1. In your **Beyond Identity Outbound SCIM** page, navigate to the **Provisioning** tab.  
2. Click the **Configure API Integration** button.  
3. Check the **Enable API integration** box.  
4. From the [Beyond Identity: Create API token for inbound SCIM](#-beyond-identity-create-api-token-for-inbound-scim) section, copy and input the following values into Okta.  
   1. **SCIM URL** â†’  **SCIM 2.0 Base Url**  
   2. **Bearer token** â†’ **OAuth Bearer Token**  
5. Click **Test API Credentials**.  
   1. If successful, awesome! Click **Save**.
   2. If it is not successful, go back to the section above [Beyond Identity: Create API token for inbound SCIM](#-beyond-identity-create-api-token-for-inbound-scim) and repeat the steps.

### ðŸŸ  Okta: Continue SCIM app setup

When the API credentials are configured, this means Okta can now begin provisioning users from your Okta directory to the Beyond Identity directory. Follow the steps below to finish your SCIM app setup in Okta. 

When this step is completed, your **Beyond Identity** group that you created in Stage I should show up in your Beyond Identity directory.

1. On the **SCIM Beyond Identity Application** page, navigate to **Provisioning** â†’ **To App** â†’ **Provisioning to App** section.  
2. Click **Edit.**  
3. Check the following boxes.  
   1. **Create Users**  
   2. **Update User Attributes**  
   3. **Deactivate users**  
4. Click **Save**.  
5. Navigate to **Assignments** â†’ Click **Assign** drop down â†’ Select **Assign to Groups**  
6. Select **Assign** for **Beyond Identity** group.  
7. Click **Save and Go Back**.
8. Click **Done**.

### ðŸŸ  Okta: Push SCIM users

With the configuration complete for the inbound and outbound SCIM implementation, the app must push users to Beyond Identity. Begin this process with the steps below.

1. On the **Beyond Identity Outbound SCIM** Application page, navigate to **Push Groups** tab.  
2. Click **Push Groups** dropdown.  
3. Select **Find groups by name**.  
4. Search for **Beyond Identity** group.  
   - NOTE: You CANNOT have a group **with the same name existing** in the Beyond Identity directory. If there is, it will result in an error.
5. Click **Save**. This prompts the SCIM process to begin in Okta to push the group to Beyond Identity.

:::note
Check the identities and groups in the Beyond Identity Console to confirm the SCIM setup and application success. Updates may take time. If the SCIM setup hasn't completed, check your SCIM application configuration. 
:::

## Stage III

The sections for Stage III cover setting up Beyond Identity as the single sign-on application for the identity provider in Okta. 

This involves setting up a callback hook into your Okta directory to update an attribute on users in your Okta directory to say that your user has registered a Beyond Identity passkey.

This attribute will later be used in Stage IV to route your users to use Beyond Identity to authenticate into Okta rather than your existing authentication methods.

### ðŸŸ  Okta: Create Okta API token

The steps below are for the Okta platform. This section guides you through creating an API token to use within Beyond Identity.

1. On the Okta platform, navigate to **Security** â†’ **API** â†’ click the **Tokens** tab.  
2. Click the **Create token** button.  
3. Input a name for the token in the first field.  
4. On the dropdown field below, select **Any IP**.  
5. Click **Create token**.  
6. Name the token **Beyond Identity API Token**.
7. API Calls made with this token must originate from **Any IP**. This can be changed later.
8. Copy the token value and store it in a secure location. Click **OK, got it** to continue.

### ðŸŸ  Okta: Set up custom attribute for users

The section here is for setting up a custom attribute for users in Okta. This value acts as a flag for users signing in to Okta to be directed to the Beyond Identity sign on process. When the integration is complete, the phishing-resistant multi-factor authentication from Beyond Identity serves as the security between the user and the resources.

When the user creates a Beyond Identity passkey, the cloud service sets the `byndidRegistered` value to `true` in the Okta user's profile. This indicates the user has a Beyond Identity passkey. The boolean value set to true and used for the routing rule to direct users to use Beyond Identity authentication during login.

1. On the Okta platform, navigate to **Directory** â†’ **Profile editor**.  
2. Select the **User (default)** profile under the Okta type.  
3. Scroll to the **Attributes** section.  
4. Click **+ Add attribute**.  
5. For the attribute, select the following and input or select the values in the associated fields.  
   1. **Data type** â†’ **Boolean**  
   2. **Display name** â†’ `Beyond Identity Registration Status`  
   3. **Variable name** â†’ `byndidRegistered`  
   4. **User permission** â†’ select **Read only**  
6. Click **Save**.

### ðŸ”µ Beyond Identity: Configure Okta domain and set up API Access

This section guides you through configuring the Okta token created in the previous step to set an attribute in your Okta directory, indicating that the user is registered with Beyond Identity. This attribute will later be used to route users through Beyond Identity for authentication.

1. On the new Okta app in Beyond Identity, navigate to the **Configure registration attribute for users in Okta** section.  
2. Input the following information into the respective fields.  
   1. Okta Domain â†’ the Okta domain URL value from your Okta account. NOTE: it must resolve to the full URL, and without the `-admin` suffix. E.g. https://dev-48007952.okta.com
   2. Okta Token â†’ the Okta token from Step 6 of ðŸŸ  [Okta: Create Okta API token](#-okta-create-okta-api-token)
3. Click **Save changes** at the top of the page.  
4. Click **Save Changes** at the top of the page.

## Stage IV

In this stage of the integration, the Okta platform requires the new identity provider of Beyond Identity to get configured. The sections below also include using routing rules for Beyond Identity to serve as the identity provider when logging into Okta resources.

After Okta has the Beyond Identity identity provider set up, the users/groups in Beyond Identity must be assigned to the new Okta app within the console. This completes the process to use Beyond Identity as the phishing-resistant multi-factor authentication flow for users.

### ðŸŸ  Okta: Configure new identity provider

This section is for setting up Beyond Identity as a new identity provider in Okta. These steps require values from Beyond Identity to enable the phishing-resistant multifactor authentication flow.

:::note
The steps here must be completed before moving on to the Beyond Identity sections for Stage IV.
:::

1. On the Okta platform, navigate to **Security** â†’ **Identity Providers**.  
2. Click **+ Add identity provider**.  
3. Select **OpenID Connect IdP** and click **Next**.  
4. Under the General settings section, input `Beyond Identity` for the name.  
5. Under the **Client details** and **Endpoints** sections, input the following values from **Client Information & Endpoints** of your Okta app in Beyond Identity. NOTE: This ensure you are in the **Client Information & Endpoints**, and not the **Configure registration attribute for users in Okta** section. There are two clientIDs here so don't get confused!
   1. **Client ID** â†’ ðŸŸ  **Client ID**, under Client details  
   2. **Client Secret** â†’ ðŸŸ  **Client Secret**, under Client details  
   3. **Issuer** â†’ ðŸŸ  **Issuer**, under Endpoints  
   4. **JWKS URI** â†’ ðŸŸ  **JWKS endpoint**, under Endpoints  
   5. **Authorization Endpoint** â†’ ðŸŸ  **Authorization endpoint**, under Endpoints  
   6. **Token Endpoint** â†’ ðŸŸ  **Token endpoint**, under Endpoints  
   7. **User Info Endpoint** â†’ ðŸŸ  **Userinfo endpoint**, under Endpoints  
6. Under the **Authentication settings optional** section, configure the following fields and values.  
   1. **Match against** â†’ **Okta Username or Email**  
   2. **Account link policy** â†’ **Automatic**  
   3. **If no match is found** â†’ **Redirect to Okta Sign-in page**  
7. Keep the default values for remaining sections. Click **Finish** at the bottom of the page.

### ðŸŸ  Okta: Create routing rules

After having Beyond Identity as an identity provider in Okta, routing rules set up end users to go through Beyond Identity for phishing-resistant multifactor authentication.

1. On the Okta platform, navigate to **Security** â†’ **Identity providers** â†’ **Routing rules** tab  
2. Click **Add routing rule**.  
3. Input `Beyond Identity` as the name for the routing rule.  
4. Configure the **AND User matches** option to **User attribute**. Add the following values for the option.  
   - `byndidRegistered`, **Equals**, **true**  
5. For the **THEN Use this identity provider** option, remove **Okta.**  
6. Select **Beyond Identity**.  
7. Click **Create rule**.

:::warning
Routing rules in Okta are active immediately after creating the rule. For security purposes, maintain a super administrator account that is isolated from routing rules to prevent lockout.
:::

### ðŸ”µ Beyond Identity: Assign Application to group

This section of Stage IV is for assigning the Okta application to Beyond Identity. When this is configured, users can begin using the phishing-resistant multifactor authentication process through Okta and Beyond Identity. Complete these steps within the Beyond Identity console.

1. On the Okta app in Beyond Identity, navigate to the **Assignments** tab.  
2. Click the **Add assignments** dropdown and select **By Group**.  
3. On the **Assign Groups** pop up, select the **Beyond Identity** group.  
4. Click **Assign Groups**.  
5. At the top of the page, click **Save Changes**.

:::note
Users must be assigned the Okta application in Beyond Identity to use the phishing-resistant multifactor authentication flow.
:::

### ðŸ”µ Beyond Identity: Enroll users

After completing the Okta and Beyond Identity integration for phishing-resistant multifactor authentication, follow the steps in this section to enroll users and their passkeys. With the passkey, the process for users to log in to their Okta resources uses the Beyond Identity flow without requiring a password. Proceed to the Beyond Identity console to complete the steps below.

1. On the Beyond Identity console, navigate to **Identities** â†’ a specific user â†’ **Passkeys** tab.  
2. New users have no passkeys added. Click **Add a passkey**.  
3. Under Identity Verification Method, select **Magic link**.  
4. For the Delivery Method option, select **Send email** or **Generate link.**  
5. Click the **Send enrollment** button.  
   1. For the Send email option, the email connected to that identity receives a Beyond Identity email for the process to register a passkey.  
   2. For the Generate link option, a URL is generated from Beyond Identity. This link is for sharing with the user for them to register a passkey.  
6. When the user goes through the link to register a passkey, they enroll in Beyond Identity and can begin logging in with phishing-resistant multifactor authentication.

## End users: Register passkey

As end users receive their magic link, they can follow the interactive guide that the link sends them to.

This enrollment email will guide them through the following 2 steps:
1. Download the Beyond Identity Platform Authenticator - this is the app that is required for Beyond Identity authentication.
2. Enroll a passkey on their device.

:::success
Congratulations! You've completed your Okta and Beyond Identity integration!
:::