---
title: Google PubSub
id: google-pubsub
description: "Learn about this."
slug: /integrations/siem-guides/google-pubsub
keywords:
  - SIEM
  - Google PubSub
pagination_next: null
pagination_prev: null
last_update:
  date: 2025-03-17
  author: Jerome Villegas
draft: false
hide_table_of_contents: false
hide_title: false
hide_breadcrumbs: false
doc_type: overview
displayed_sidebar: mainSidebar
---

## Overview

This guide is for setting up Beyond Identity events data with Google PubSub. 

## Prerequisites

Confirm you have the following prerequisites before continuing with the integration.

- Beyond Identity
    - Tenant configured for organization with ability to enroll users
- Google PubSub

## Stage summary

The integration setup consists of the two stages below. Each stage covers the initial set up for continuing the integration process on each respective platform. Follow the guide in linear order to complete the integration.

| Stage | Summary | Google PubSub | Beyond Identity |
| :---- | :---- | :---- | :---- |
| [I](#stage-i) | Initial configuration | - [Create Google PubSub project](#-)<br></br>- [Create Google PubSub topic](#-)<br></br>- [Set up GCP service account](#-)<br></br>- [Generate service account key JSON file](#-) | - [Add integration in Beyond Identity](#-) |
| [II](#stage-ii) | Set up Beyond Identity integration and confirm logs | - [Verify logs in Google PubSub](#-) | - [Configure Cloud PubSub integration in Beyond Identity](#-)<br></br>- [View SIEM integration logs](#-) |

# Steps

Follow the steps in the sections below to complete your SIEM integration with Beyond Identity.

## Legend

The sections below use these two color codings to identify the steps for separate platforms.

ðŸ”µ Beyond Identity: Beyond Identity platform tasks are highlighted in blue.

ðŸŸ  Google PubSub: Google PubSub platform tasks are highlighted in orange.

## Stage I

The sections in this stage are for the intial setup of the integration between the two platforms.

### ðŸŸ  Create Google PubSub project

The steps below for this section cover creating a Google PubSub project to begin the integration.

1. Navigate to your [Google Cloud Platform (GCP)](https://console.google.com) account.
2. Under **IAM & Admin**, select **Create a Project**.
3. On the New Project screen, input `bi-pubsub` for the **Project name** field.
4. Update the Organization and location information for your GCP configuration.
5. Click **Create**.

### ðŸŸ  Create Google PubSub topic

This section has the instructions for creating a Topic in Google PubSub.

1. On your GCP account page, search for and select the `bi-pubsub` project from the [Create Google PubSub project](#-create-google-pubsub-project) section.
2. After selecting the project, input `topics` into the search box to select **Topics**.
3. On the Topics screen, click **CREATE TOPIC**.
4. Input `bi-data-export-pub-sub` for the **Topic ID** field.
5. Maintain the default settings with **Add a default subscription** checked and the other unchecked.
6. Click **CREATE TOPIC**.
7. View the created topic with the default subscription of `projects/bi-pubsub/subscriptions/bi-data-export-pubsub-sub`.

### ðŸŸ  Set up GCP service account

The service account uses Beyond Identity event integration code to authenticate to Google PubSub.

1. On your GCP account page, navigate to **Service Accounts** under the **IAM & Admin** section.
2. Select the `bi-pubsub` project.
3. Click** + CREATE SERVICE ACCOUNT**.
4. On the **Create service account** page, input `bi-data-export-sa` in the field for **Service account name**. This automatically fills in the **Service account ID** and **Email address** information.
5. Add the description to the Service account description field.
6. Click the **CREATE AND CONTINUE** button.
7. Under the **Grant this service account access to project** section, click the **Role** dropdown and select **Pub/Sub Publisher**.
8. Click **DONE**.

### ðŸŸ  Generate service account key JSON file

The steps below in this section are for generating a JSON file to save for adding to the Beyond Identity integration configuration.

1. On your GCP account page, navigate to the `bi-data-export-sa` service account from the **Service Accounts** page under the **IAM & Admin** section.
2. On the service account page, select **Create New Key** under the **Add key** dropdown.
3. On the pop up, select ** for **Key type**.
4. Click **Create**. The JSON file is saved to your device.


### ðŸ”µ Add integration in Beyond Identity

The section here includes the steps for configuring the SIEM integration in Beyond Identity. The instructions below are for the Beyond Identity Console.

1. On the Beyond Identity Console lefthand navigation, under Platform, select **Integrations**.
2. Select the **Browse integrations** tab.
3. Select **Cloud Pub/Sub**.
4. On the Custom Webhook overview page, click **Add instance**.

## Stage II

The sections in this stage are for setting up the API key in Beyond Identity and viewing the logs. Follow the sections below to complete the integration.

### ðŸ”µ Configure Cloud PubSub integration in Beyond Identity

The steps below are for adding values from your custom webhook to Beyond Identity for completing the SIEM integration.

1. On the **Add integration** pop up after completing the steps in Add integration in Beyond Identity section, input the following required values.
    - Name â†’ `Beyond Identity SIEM integration`
    - Topic Name â†’ Your PubSub topic name
2. For the **Service Account** section, upload the private key JSON file from [Generate service account key JSON file](#-generate-service-account-key-json-file).
3. For your configuration's events and threat signal selection, click the **Select all and automatically add...** checkboxes for both fields.
    - NOTE: These configuration selections can be changed and updated later.
4. Confirm the Status is set to **Active**.
5. Click **Test Configuration**.
6. After testing is complete, click **Save changes**.

### ðŸŸ  Verify logs in Google PubSub

After completing the integration, view the logs from Beyond Identity within your custom webhook. Follow the instructions below to verify and confirm the data.

1. Navigate to your GCP account.
2. Confirm Beyond Identity events data is available.


import ViewSiem from '../../includes/_view-siem-integration-logs.mdx';

### ðŸ”µ View SIEM integration logs

<ViewSiem />